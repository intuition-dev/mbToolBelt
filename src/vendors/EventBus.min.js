// mB v6.10.8 on 2019-10-15T19:00:57.649Z
var EventBus=function EventBus(){this.topics={},this.getTopic=function(t,i){return this.topics[t]||(this.topics[t]=new Topic(t,i)),this.topics[t]},this.getTopics=function(){return this.topics}},Topic=function(){function Topic(t,i){this.addListener=function(t,i){var e=new Listener(t,i,this)
return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),!0===this.options.persistent&&this.consume(t,this.queue,e),e},this.removeListener=function(t){for(var i=0,e=this.listeners[t.event]||[];i<e.length;i++)if(e[i]===t)return void this.listeners[t.event].splice(i,1)},this.dispatch=function(t,i){var e,s=[]
for(e in this.listeners)this.matchWildCard(t,e)&&(s=s.concat(this.listeners[e]))
for(var n in s)s[n].callback(i)
s.length||!0!==this.options.persistent||(this.queue[t]=this.queue[t]||[],this.queue[t].push(i))},this.identifier=t,this.options=i||{},this.listeners={},this.queue={}}return Topic.prototype.consume=function(t,i,e){for(var s in i)if(this.matchWildCard(s,t)){var n=i[s]
for(var o in n)e.callback(n[o])
i[s].splice(0,i[s].length)}},Topic.prototype.matchWildCard=function(t,i){return new RegExp("^"+i.split("*").join(".*")+"$").test(t)},Topic}(),Listener=function Listener(t,i,e){this.unbind=function(){this.topic.removeListener(this)},this.event=t,this.callback=i,this.topic=e}
window.eventBus=new EventBus,window.DeventBus=window.eventBus.getTopic("DEFAULT",{persistent:!0})