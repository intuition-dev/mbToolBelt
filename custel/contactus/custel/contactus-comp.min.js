// mB v7.11.15 on 2019-11-27T17:23:05.579Z
riot.tag2("contactus-comp",'<form class="form-comp grid-form" id="mailFrm"> <fieldset> <legend>{this.opts.legend_title}</legend> <div data-row-span="2"> <div data-field-span="1"> <label>Name</label> <input id="name" type="text" name="name"> </div> <div data-field-span="1"> <label>E-mail</label> <input id="email" name="email" type="email"> </div> </div> <div data-row-span="1"> <div data-field-span="1"> <label>Message</label> <textarea name="msg" type=""></textarea> </div> </div> </fieldset> <button class="btn btn-primary float-right mt-2" id="sendBut">Send Message</button> </form>',"","",(function(e){loadVexAlertFlat(),depp.isDefined("contactus-comp_")||depp.define({"contactus-comp_":["#DOM","https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js","https://cdn.jsdelivr.net/npm/disableautofill@1.2.8/src/jquery.disableAutoFill.min.js","#emailjs","#validate","#loadedVexAlertFlat"]}),depp.require("contactus-comp_"),this.on("mount",(function(){depp.require("contactus-comp_",(function(){!function onMount(){var e=a.opts.emailjs_id,t=a.opts.template_id,i=a.opts.service_id,n=a.opts.reply_to,l=a.opts.from_name,m=a.opts.to_name,s=a.opts.from_email,o=a.opts.message_html
emailjs.init(e),$("#mailFrm").disableAutoFill(),$("#mailFrm").on("submit",(function(e){e.preventDefault()
var a=function val(){var e=$("#mailFrm"),a=e.find("#name").attr("name"),t=e.find("#email").attr("name"),i={}
i[a]={presence:!0},i[t]={presence:!0,email:!0},i.msg={presence:!0}
var n=validate(e,i,{format:"flat"})
return n||"OK"}()
if("OK"===a){var d={reply_to:n,from_name:void 0!==l?l:$("#name").val(),to_name:void 0!==m?m:"",from_email:void 0!==s?s:$("#email").val(),message_html:void 0!==o?o:$("textarea[name='msg']").val()}
emailjs.send(i,t,d).then((function(e){vex.dialog.confirm({message:"Your message has been sent",callback:function(){}}),$("#name, #email, textarea[name='msg']").val("")}),(function(e){vex.dialog.confirm({message:"Something went wrong",callback:function(){}}),$("#name, #email, textarea[name='msg']").val("")}))}else vex.dialog.confirm({message:a,callback:function(){}})}))}()}))}))
var a=this}))