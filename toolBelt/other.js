// other stuff to keep mbToolBelt clean/smaller
// this file is not provided as min.


// https://webkit.org/status


depp.define({

    'fontloader': ['https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js']

    ,'surveyitem-comp': ['https://cdn.jsdelivr.net/gh/intuition-dev/mbToolBelt@v8.4.12/custel/surveryitem/custel/surveyitem-comp.min.js'],

    'client': 'https://cdn.jsdelivr.net/npm/clientjs@0.1.11/dist/client.min.js'

    ,
    'vega': ['https://cdn.jsdelivr.net/npm/vega@5.9.0'

        , 'https://cdn.jsdelivr.net/npm/vega-lite@4.0.2'

        , 'https://cdn.jsdelivr.net/npm/vega-embed@6.2.1', 'https://cdn.jsdelivr.net/npm/vega-tooltip@0.20.0/build/vega-tooltip.min.js'
    ]

    ,
    'html2canvas': ['https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js']

    ,
    'awesomplete': ['https://cdn.jsdelivr.net/gh/leaverou/awesomplete@v1.1.5/awesomplete.min.css',
        'https://cdn.jsdelivr.net/gh/leaverou/awesomplete@v1.1.5/awesomplete.min.js'
    ]

    ,
    'isJs': 'https://cdn.jsdelivr.net/gh/arasatasaygin/is.js@v0.9.0/is.min.js'

    ,
    'jsForm': ['https://cdn.jsdelivr.net/npm/jquery.jsForm@1.4.0/src/jquery.jsForm.min.js']

    ,
    'surveyjs': ['jquery', 'https://surveyjs.azureedge.net/1.1.14/survey.jquery.min.js',
        'https://surveyjs.azureedge.net/1.1.14/survey.css'
    ]


    //webGL
    ,
    'babylon': 'https://cdn.jsdelivr.net/npm/babylonjs@4.0.3/babylon.js' // is min

    ,
    'msgpack-lite': 'https://cdn.jsdelivr.net/npm/msgpack-lite@0.1.26/dist/msgpack.min.js'

    ,
    'hoverIntent': ['#jquery', 'https://cdn.jsdelivr.net/npm/jquery-hoverintent@1.10.0/jquery.hoverIntent.min.js']

    ,
    'picker.date': ['https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/themes/classic.date.min.css', 'https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/picker.date.min.js'],
    'picker.time': ['https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/themes/classic.time.min.css', 'https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/picker.time.min.js'],
    'zebraDate': ['https://cdn.jsdelivr.net/npm/zebra_datepicker@1.9.12/dist/css/bootstrap/zebra_datepicker.min.css',
        'https://cdn.jsdelivr.net/npm/zebra_datepicker@1.9.12/dist/zebra_datepicker.min.js'
    ]

    ,
    'progressBar': 'https://cdn.jsdelivr.net/npm/progressbar.js@1.0.1/dist/progressbar.min.js'

    ,
    'spoken': 'https://cdn.jsdelivr.net/npm/spoken@1.1.17/spoken.min.js'

    ,
    'mobi': 'https://cdn.jsdelivr.net/npm/@mobiscroll/javascript-lite@4.6.3/dist/js/mobiscroll.javascript.min.js',
    'mobiCSS': 'https://cdn.jsdelivr.net/npm/@mobiscroll/javascript-lite@4.6.3/dist/css/mobiscroll.css'

    ,
    'roughjs': 'https://cdn.jsdelivr.net/npm/roughjs@3.1.0/dist/rough.min.js'

    ,
    'matterjs': 'https://cdn.jsdelivr.net/npm/matter-js@0.14.2/build/matter.min.js'

    ,
    'jqMousewheel': ['#jquery', 'https://cdn.jsdelivr.net/npm/jquery-mousewheel@3.1.13/jquery.mousewheel.min.js'],
    'scrollify': ['#jquery', 'https://cdn.jsdelivr.net/npm/jquery-scrollify@1.0.20/jquery.scrollify.min.js']

    // https://www.npmjs.com/package/collect.js
    ,
    'collect': 'https://cdn.jsdelivr.net/npm/collect.js@4.16.6/build/collect.min.js'

    ,
    'fluxify': 'https://cdn.jsdelivr.net/npm/fluxify@0.2.3/fluxify.min.js',

    'flyd': 'https://cdn.jsdelivr.net/npm/flyd@0.2.8/flyd.min.js'

    ,
    'togetherjs': 'https://togetherjs.com/togetherjs-min.js'

    ,
    'picturefill': 'https://cdn.jsdelivr.net/npm/picturefill@3.0.3/dist/picturefill.min.js'

    ,
    'reframe': ['https://cdn.jsdelivr.net/npm/reframe.js@2.2.5/dist/reframe.min.js', '#DOM'],
    'backstretchJQ': ['#jquery', 'https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.17/jquery.backstretch.min.js'],
    'vintage': 'https://cdn.jsdelivr.net/npm/vintagejs@2.2.0/dist/vintage.min.js'

    //simplistic nav:
    ,
    'offcanvasNav': ['https://cdn.jsdelivr.net/npm/js-offcanvas@1.2.9/dist/_js/js-offcanvas.pkgd.js', 'https://cdn.jsdelivr.net/npm/js-offcanvas@1.2.9/dist/_css/prefixed/js-offcanvas.css']

    ,
    'particles': 'https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js'

    ,
    'fastdomPro': ['https://cdn.jsdelivr.net/npm/fastdom@1.0.9/fastdom.min.js', 'https://cdn.jsdelivr.net/npm/fastdom@1.0.9/extensions/fastdom-promised.js', 'https://cdn.jsdelivr.net/npm/fastdom-sequencer@1.0.3/fastdom-sequencer.min.js']

    ,
    'onepage': ['https://cdn.jsdelivr.net/npm/onepage-scroll@1.3.0/onepage-scroll.css', 'https://cdn.jsdelivr.net/npm/onepage-scroll@1.3.0/jquery.onepage-scroll.min.js']

    ,
    'parallaxImg': 'https://cdn.jsdelivr.net/gh/intuition-dev/mbToolBelt@v8.4.12/src/vendors/parallaxImg.min.js'

    // deprectated
    ,
    'vexAlertFlatReq': ['https://cdn.jsdelivr.net/npm/vex-js@4.1.0/dist/js/vex.combined.min.js', 'https://cdn.jsdelivr.net/npm/vex-js@4.1.0/dist/css/vex.min.css', 'https://cdn.jsdelivr.net/npm/vex-js@4.1.0/dist/css/vex-theme-flat-attack.min.css']

    //vid
    ,
    'mediaelement': ['https://cdn.jsdelivr.net/npm/mediaelement@4.2.12/build/mediaelementplayer.min.css', 'https://cdn.jsdelivr.net/npm/mediaelement@4.2.12/build/mediaelement-and-player.min.js']

    ,
    'tabulator-core': ['https://cdn.jsdelivr.net/npm/tabulator-tables@4.4.1/dist/js/tabulator_core.min.js'],
    'tabulatorDefaultStyle': ['https://cdn.jsdelivr.net/npm/tabulator-tables@4.4.1/dist/css/tabulator_simple.css']

})

function inView(el) { // is element in view?
    //special bonus for jQuery
    if (typeof jQuery === 'function' && el instanceof jQuery) {
        el = el[0]
    }
    var rect = el.getBoundingClientRect()
    return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    )
}

//deprecated
function loadVexAlertFlat() { // since it has extra call at end
    return new Promise(function(resolve, reject) {
            depp.require('vexAlertFlatReq', function() {
                    vex.defaultOptions.className = 'vex-theme-flat-attack' // it needs this hack
                    console.log('vexFlat')
                    depp.done('loadedVexAlertFlat')
                        // now you can vex.dialog.confirm({ message: 'Something went wrong', callback: function(){} })//vexAlert 
                    resolve('OK')
                }) //req
        }) //pro
} //()



// https://www.mixamo.com/#/?page=1&type=Character



function throttleF(callback, limit) { //returns a modified function!!!
    var wait = false
    return function() { // We return a throttled function
        var context = this
        var args = arguments
        if (!wait) { // If we're not waiting
            callback.apply(context, args) // calls function
            wait = true // Prevent future invocations
            setTimeout(function() { // After a period of time
                wait = false // And allow future invocations
            }, limit)
        }
    }
} //()
// wait for it to stop for X
function debounceF(callback, time) { //returns a modified function!!!
    var timeout;
    return function() {
        var context = this
        var args = arguments
        if (timeout) {
            clearTimeout(timeout)
        }
        timeout = setTimeout(function() {
            timeout = null
            callback.apply(context, args) // calls function
        }, time)
    }
}

/*
   addEventListener('scroll', onBrowser)
   addEventListener('resize', onBrowser)
 */

depp.require('DOM', function() {
        console.log('lh', getStyle(document.getElementsByTagName("BODY")[0], 'line-height'))
    })
// https://tailwindcss.com/resources

// helper for custom elements
//add element defer //////////////////////////////////////////
function addElementDe(parentEl, elName, id) {
    var el = document.createElement(elName)
    el.id = id
    parentEl.appendChild(el)
    return el
} //()
