// mB v6.10.5 on 2019-10-13T14:32:27.678Z
var httpRPC=function(){function httpRPC(t,o,e){this.user="",this.pswd="",this.token="",this.httpOrs=t,this.host=o,this.port=e}return httpRPC.prototype.setUser=function(t,o){this.user=t,this.pswd=o},httpRPC.prototype.setToken=function(t){this.token=t},httpRPC.prototype.invoke2=function(t,o,e,n){return this.invoke(t,o,e,n)},httpRPC.prototype.invoke=function(t,o,e,n){n||(n={}),n.ent=o,n.method=e,n.user=btoa(this.user),n.pswd=btoa(this.pswd),n.token=btoa(this.token)
var r=Object.keys(n).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])})).join("&"),s=this
return new Promise((function(o,e){var n=s.httpOrs+"://"+s.host+(s.port?":"+s.port:"")+"/"+t
n=n+"/?"+r,fetch(n,{method:"GET",cache:"default",redirect:"follow",mode:"cors",keepalive:!0}).then((function(t){var o=t.json()
if(t.ok)return o
e(o)})).then((function(t){t.errorMessage&&e(t),o(t.result)})).catch((function(t){e(t)}))}))},httpRPC.prototype.invoke0=function(t,o,e,n){var r=new FormData
r.append("params",JSON.stringify(n)),r.append("user",btoa(this.user)),r.append("pswd",btoa(this.pswd)),r.append("page",window.location.pathname),r.append("method",e)
var s=this
return new Promise((function(e,n){var i=s.httpOrs+"://"+s.host+(s.port?":"+s.port:"")+"/"+t+"/"+o
i.includes("/log/"),fetch(i,{body:r,method:"post",cache:"no-cache"}).then((function(t){var o=t.json()
if(t.ok)return o
n(o)})).then((function(t){t.errorMessage&&n(t),e(t.result)})).catch((function(t){n(t)}))}))},httpRPC.prototype.setItem=function(t,o){sessionStorage.setItem(t,o)},httpRPC.prototype.getItem=function(t){return sessionStorage.getItem(t)},httpRPC.prototype.log=function(t,o,e){var n=this,r={msg:t,page:window.location.pathname,level:o,className:e}
try{window.ENV&&(r.ENV=window.ENV),r.appVersion=btoa(navigator.appVersion),r.userAgent=btoa(navigator.userAgent),r.platform=btoa(navigator.platform)}catch(t){}setTimeout((function(){n.invoke("log","log","log",r)}),1)},httpRPC}()